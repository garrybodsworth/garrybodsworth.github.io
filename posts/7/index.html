
<!DOCTYPE HTML>
<html lang="en-gb">
<head>
  <meta charset="UTF-8">
  <title>Fragmented Memory</title>

  <meta name="author" content="Garry Bodsworth">
  
  <meta name="description" content="Europython Blogging And here I am at Europython 2009 in rainy but inhumanly hot Birmingham. I made it for 8am but I am all on my own thanks to a &hellip;">
  
  

  <link rel="canonical" href="http://www.fragmentedmemory.com/posts/7">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/feed/" rel="alternate" title="Fragmented Memory" type="application/atom+xml">
</head>
  
<body class="default">
  <div id="wrapper">
    <div id="header">
  <h1><a href="/">Fragmented Memory</a></h1>
  
    <p>Garry Bodsworth's Blog (formerly Garry's Bit Patterns &amp; Programmer's Log)</p>
  
</div>
<ul id="social-links">
  
    <li><a class="rss" href="/feed/" title="RSS">RSS</a></li>
  
  
  
  
    <li><a class="twitter" href="http://twitter.com/garrybodsworth" title="Twitter">Twitter</a></li>
  
  
    <li><a class="github" href="https://github.com/garrybodsworth" title="GitHub">GitHub</a></li>
  
  
  
    <li><a class="linkedin" href="http://www.linkedin.com/in/garrybodsworth">LinkedIn</a></li>
  
  
  
  
    <li><a class="pinboard" href="https://pinboard.in/u:garrybodsworth" title="Pinboard">Pinboard</a></li>
  
</ul>
<div class="clear"></div>
<ul id="nav">
  
    <li> <a href="/" class="current">blog</a> </li>
  

  
    <li><a href="/blog/archives">archives</a></li>
  

  
    <li><a href="/about">about</a></li>
  
</ul>

    <div id="main"> 

  
  <div class="post"> <div class="post-header">
  
    <h1 class="post-title">
      <a href="/blog/2009/06/30/europython-blogging/">Europython Blogging</a>
    </h1>
  
  








  


<time datetime="2009-06-30T00:00:00+01:00" pubdate data-updated="true"></time>
</div>

<div class="post-content"><p>And here I am at Europython 2009 in rainy but inhumanly hot Birmingham. I made it for 8am but I am all on my own thanks to a possible hamthrax infected absence.</p>

<p>Interesting stuff from the main introduction. There are over 440 delegates. There are some raffles including the coins designed by Stani using free software. Also they&#8217;re looking for venues for 2011/2012 but it sounds like a hell of a lot of work.</p>

<p>Right, on to my first talk about PyPy.</p>
</div>
 </div>

  
  <div class="post"> <div class="post-header">
  
    <h1 class="post-title">
      <a href="/blog/2009/06/23/europython-2009/">EuroPython 2009</a>
    </h1>
  
  








  


<time datetime="2009-06-23T00:00:00+01:00" pubdate data-updated="true"></time>
</div>

<div class="post-content"><p>The <a href="http://www.europython.eu/">EuroPython 2009</a> conference is less than a week away, I have no idea where June went. It should be a great time in sunny Birmingham. I am going to the conference days Tuesday through Thursday.</p>

<p>There are <a href="http://www.europython.eu/talks/timetable/">loads of talks</a> so my brain should be crammed after three days of that. I might also try out doing a lightning talk whilst I am there. although I would have to put some thought into what I&#8217;d talk about.</p>

<p>You can register <a href="http://www.europython.eu/registration/">here</a> with the three conference days costing £190.</p>
</div>
 </div>

  
  <div class="post"> <div class="post-header">
  
    <h1 class="post-title">
      <a href="/blog/2009/06/23/boot-error-when-booting-from-usb/">&#8220;Boot Error&#8221; When Booting From USB</a>
    </h1>
  
  








  


<time datetime="2009-06-23T00:00:00+01:00" pubdate data-updated="true"></time>
</div>

<div class="post-content"><p>Some BIOS have problems booting from USB pen drives. This lead to to what I consider an insane discovery, USB flash drives have heads, cylinders, and sectors/tracks, but they are entirely virtual.</p>

<p>What your normally end up with is a prompt saying &#8220;Boot Error&#8221; and nothing else of use. This is because some BIOS are limited to 1024 cylinders so you need to change the geometry of the flash drive.</p>

<p>You can do this in Linux with the following commandline (where sdX is the device which is the usb flash storage):</p>

<pre lang="Bash" colla="+">mkdiskimage -4 /dev/sdX 0 63 62
</pre>


<p>The numbers depend on the size of the USB key as they need to be chosen to get a total number of cylinders less than 1024.</p>

<p>A 1GB stick would be:</p>

<pre lang="Bash" colla="+">mkdiskimage -4 /dev/sdX 0 64 32
</pre>


<p>A 1GB-2GB stick would be:</p>

<pre lang="Bash" colla="+">mkdiskimage -4 /dev/sdX 0 128 32
</pre>


<p>A 2GB-8GB stick would be:</p>

<pre lang="Bash" colla="+">mkdiskimage -4 /dev/sdX 0 255 63
</pre>


<p>Once your geometry is set up you can go ahead and partition your device and use it.</p>
</div>
 </div>

  
  <div class="post"> <div class="post-header">
  
    <h1 class="post-title">
      <a href="/blog/2009/06/21/installing-the-latest-intel-drivers-the-kernel/">Installing the Latest Intel Drivers &#8211; the Kernel</a>
    </h1>
  
  








  


<time datetime="2009-06-21T00:00:00+01:00" pubdate data-updated="true"></time>
</div>

<div class="post-content"><p>So installing the drivers, latest X-server, mesa and so on is only part of the puzzle to use the latest Intel graphics drivers. You also need to update your kernel for more features like better kernel memory management, kernel mode switching, and other basic things. The driver can work (for differing levels of working) for older kernels, but the bugfixes tend to be on the latest version. I have tried this on an Intel 945GM.</p>

<p>So this is how you update your kernel for Jaunty (and other Ubuntus would probably work). A really handy repository of kernels is maintained by Ubuntu called <a href="http://kernel.ubuntu.com/~kernel-ppa/mainline/">Mainline PPA</a> where you can download pretty much any version of the kernel.</p>

<p>So for kernel 2.6.30 you need to download the following file : <a href="http://kernel.ubuntu.com/~kernel-ppa/mainline/v2.6.30/linux-image-2.6.30-020630-generic_2.6.30-020630_i386.deb">linux-image-2.6.30-020630-generic_2.6.30-020630_i386.deb</a><br/>
You need to install this by calling:<pre colla="+" lang=”Bash”> sudo dpkg -i linux-image-2.6.30-020630-generic_2.6.30-020630_i386.deb </pre></p>

<p>As part of the install it should have run update-grub. If not run <strong>sudo update-grub</strong></p>

<p>To get kernel modesetting working as well as fixing a couple of minor issues you need to edit the file <strong>/boot/grub/menu.lst</strong> for some extra parameters. You need to edit the line that looks like:</p>

<pre colla="+" lang="Bash">kernel      /vmlinuz-2.6.30-020630-generic root=/dev/sda7 ro 
</pre>


<p>And add the following between &#8220;generic&#8221; and &#8220;root&#8221;:</p>

<pre colla="+" lang="Bash">nopat enable_mtrr_cleanup i915.modeset=1
</pre>


<p>The first two sort out some hardware bugs on the Intel 945 depending on the hardware platform which can vary. Acer Aspire Ones don&#8217;t necessarily have the same mtrr bugs as MSI Winds and so on. The modeset parameter switches on kernel modesetting which you will hopefully not notice many changes with.</p>

<p>I did find kernel modesetting played a lot better running X without any monitor connected and dealt with a lot of odd mode issues.</p>
</div>
 </div>

  
  <div class="post"> <div class="post-header">
  
    <h1 class="post-title">
      <a href="/blog/2009/06/20/how-to-install-the-latest-intel-drivers-on-ubuntu/">How to Install the Latest Intel Drivers on Ubuntu</a>
    </h1>
  
  








  


<time datetime="2009-06-20T00:00:00+01:00" pubdate data-updated="true"></time>
</div>

<div class="post-content"><p>This is a fairly painless process to get the latest and greatest drivers for Intel integrated graphics (like the 945GM). Since it is on the more or less bleeding edge of development there can be some issues, but personally I tend to see more issues with outdated drivers than running the latest.</p>

<p>There reason that this process is so simple on Ubuntu is that some nice and clever people have packaged it all up on <a href="https://launchpad.net/~xorg-edgers">xorg-edgers</a>. The instructions here are for Ubuntu Jaunty 9.04.</p>

<p>There are some commandline incantations to make and some text files to edit.</p>

<p>Create a file <strong>/etc/apt/sources.list.d/xorg-edgers.list</strong> that contains the following text:<pre lang=”Bash”> deb <a href="http://ppa.launchpad.net/xorg-edgers/ppa/ubuntu">http://ppa.launchpad.net/xorg-edgers/ppa/ubuntu</a> jaunty main deb-src <a href="http://ppa.launchpad.net/xorg-edgers/ppa/ubuntu">http://ppa.launchpad.net/xorg-edgers/ppa/ubuntu</a> jaunty main </pre></p>

<p>Now execute the following commands:<pre lang=”Bash” line=”1″ file=”update.sh” colla=”+”> sudo apt-key adv &mdash;recv-keys &mdash;keyserver keyserver.ubuntu.com 0x165d673674a995b3e64bf0cf4f191a5a8844c542 sudo apt-get update sudo apt-get upgrade </pre></p>

<p>Now you should have pulled in the latest Intel drivers and related dependencies. You might have also updated other packages on your system if you are not fully up to date with your software &#8211; don&#8217;t worry this should be fine. If you reboot now your system should use these latest drivers with some spiffing UXA acceleration&#8230;. but that is not all.</p>

<p>There are some stability issues if you are using a 945 based card, so you need some minor configuration changes. Run the following commandline:<pre lang=”Bash”> dpkg-reconfigure xserver-xorg </pre></p>

<p>Now you need to edit your <strong>/etc/X11/xorg.conf</strong> and edit the device section so it looks a bit like this:<pre lang=”Bash” file="part-xorg.conf"> Section &ldquo;Device&rdquo; Identifier &ldquo;Configured Video Device&rdquo; Driver &ldquo;intel&rdquo; Option &ldquo;Tiling&rdquo; &ldquo;false&rdquo; Option &ldquo;FramebufferCompression&rdquo; &ldquo;False&rdquo; EndSection </pre></p>

<p>The most important part is to get those two lines containing &#8220;Option&#8221; which fixes the problems.</p>

<p>If you are using stock Jaunty then you will not have Kernel Mode Setting which provides better mode detection and switching for Linux. This requires a new kernel, but I will blog about that tomorrow.</p>
</div>
 </div>

  
  <div class="post"> <div class="post-header">
  
    <h1 class="post-title">
      <a href="/blog/2009/06/20/clutter-0-9-4-released/">Clutter 0.9.4 Released</a>
    </h1>
  
  








  


<time datetime="2009-06-20T00:00:00+01:00" pubdate data-updated="true"></time>
</div>

<div class="post-content"><p>A new developer snapshot version of <a href="http://www.clutter-project.org">Clutter</a> has been released which is part of the journey towards Clutter 1.0. The project is an OpenGL renderer for user interfaces which uses the gobject base system.</p>

<p>The reason I post this though is that I have contributed (terribly minor) patches to this release. Plus also as part of the progress to 1.0 there are some very substantial changes under the hood. There is now a master clock for rendering which should improve rendering quality and smoothness. Also, beware, all units have been removed and it uses floating point values in the API now. There is some cool debugging features in the OpenGL wrapper part of Clutter so performance work can be done more easily.</p>

<p>You can see full release notes <a href="http://git.clutter-project.org/cgit.cgi?url=clutter/tree/NEWS">here</a>. The snapshot is available from git <a href="http://git.clutter-project.org/?url=clutter/tag/&amp;id=0.9.4">here</a>.</p>

<p>Now I need to build a deb so I can test this out a little more&#8230;.</p>
</div>
 </div>

  
  <div class="post"> <div class="post-header">
  
    <h1 class="post-title">
      <a href="/blog/2009/06/18/the-platform-is-the-hard-part/">The Platform Is the Hard Part</a>
    </h1>
  
  








  


<time datetime="2009-06-18T00:00:00+01:00" pubdate data-updated="true"></time>
</div>

<div class="post-content"><p>Ubuntu is essentially a layer of abstraction on Debian providing additional stability and usability (niceties I would probably call them) in order to make a public release. Even with this additional layer of checking and development work it is targeted at a specific market and platform. It should work on all computers in a manner of speaking, and it is almost impossible to check all hardware combinations, let alone software packages.</p>

<p>Then you use this already abstracted layer as the basis for an even more specific &#8220;distribution&#8221;&#8230;. When you can limit your hardware targets, you then have to make sure the software is really performant and solid on it.</p>

<p>As the problems become smaller in the grand scheme of things, progress fixing them takes longer, seeming to almost grind to a halt. It also depends on the software you use which uncover bugs in seemingly unrelated libraries, drivers and processes. I&#8217;ve been encountering a lot of these, but this is the wonder of open-source. Solving all of these problems was possible with enough graft because all of the elements were available. This means identifying and communicating with the right communities, and then if you have any fixes getting your changes upstream into their repositories. The problem is though you still have to maintain your own patches because of the trickle down between distributions can take a very long time, and good changes rarely make it into already released software because of the big-bang big-release mentatility. As I have played more I find myself wishing for a rolling release distro&#8230;</p>

<p>But once you have your shiny platform all in place &#8211; how do you keep it up to date. You always find in the pursuit of getting it functioning you have to update manually&#8230;.</p>
</div>
 </div>

  
  <div class="post"> <div class="post-header">
  
    <h1 class="post-title">
      <a href="/blog/2009/06/17/efl-webkit-0-1-released/">EFL Webkit 0.1 Released</a>
    </h1>
  
  








  


<time datetime="2009-06-17T00:00:00+01:00" pubdate data-updated="true"></time>
</div>

<div class="post-content"><p>The first version of <a href="http://www.webkit.org">Webkit</a> for <a href="http://www.enlightenment.org">EFL</a> has been <a href="http://tonikitoo.blogspot.com/2009/06/webkitefl-01-released.html">released</a>. I&#8217;ve been tracking the project for quite a while and it&#8217;ll be good to try it out again.</p>

<p>It has support for all the usual features for webkit and also now has plugin support for Flash. There is also a prototype browser called EVE. Internally it uses Cairo for the rendering and libcurl for the networking.</p>

<p>One of the things I really wanted to get round to ding at some point is trying out binding enlightenment (more specifically EFL) to a 3D surface in Clutter, because EFL is really good at 2D (and has plenty of backends) and Clutter is really good at 3D.</p>
</div>
 </div>

  
  <div class="post"> <div class="post-header">
  
    <h1 class="post-title">
      <a href="/blog/2009/06/14/xbmc-mythtv/">XBMC + MythTV</a>
    </h1>
  
  








  


<time datetime="2009-06-14T00:00:00+01:00" pubdate data-updated="true"></time>
</div>

<div class="post-content"><p>If you want to watch TV from your <a href="http://xbmc.org/">XBMC</a> you can use <a href="http://code.google.com/p/mythbox/">mythbox</a> to use your XBMC installation as a frontend for MythTV.</p>

<p>What this does is allows you to watch live and time-shifted television as well as schedule recordings. MythTV is a bit of a pain to set up but once the backend is fully configured then you shouldn&#8217;t need to touch it. The best part for me was the web interface for scheduling recordings because it can show much more information than a TV interface would normally allow.</p>

<p>The quality of the XBMC frontend is much better than the default one that comes with MythTV (which I found counter-intuitive and lacking). The UI for mythbox integrates perfectly and formats everything professionally. The <a href="http://code.google.com/p/mythbox/wiki/Screenshots">screenshots</a> are pretty representative of what you get. There have been a few more beta releases since the one I used but even for pre-release software I found it good enough to use every day.</p>

<p>I used this combination for a while, and the only thing lacking for me was the hardware. Otherwise the experience was extremely good. Also don&#8217;t forget if you have nVidia graphics then you get VDPAU acceleration which meant my CPU was not really going much higher than 20%.</p>
</div>
 </div>

  
  <div class="post"> <div class="post-header">
  
    <h1 class="post-title">
      <a href="/blog/2009/06/13/its-aliiiive/">It&#8217;s Aliiiive!</a>
    </h1>
  
  








  


<time datetime="2009-06-13T00:00:00+01:00" pubdate data-updated="true"></time>
</div>

<div class="post-content"><p>This poor corner of the Internet has been neglected of late, and it is almost time for me to renew my domain. So I have two options &#8211; let it die or pull my finger out and actually post some content. Inbetween <a href="http://www.camvine.com">work</a> and a new baby I find spare time a bit scarce (or non-existent).</p>

<p>But the doors won&#8217;t be shutting here because at some point the baby has to sleep at some point in the future and that means I get to use my laptop.</p>
</div>
 </div>


<div id="pagination">
  
    <a class="prev" href="8">&laquo;Previous</a>
  
  
    <a class="next" href="6">Next&raquo;</a>
  
</div>
 </div>
    <div id="footer">
  <div class="panels">
    <div class="license">
      <h2>License</h2>
      <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/"><img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-nc-sa/3.0/88x31.png" /></a><br />This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/">Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License</a>.
    </div>

    <div class="posts">
      <h2>Recent Posts</h2>
      <ul>
        
          <li>
            <a href="/blog/2014/07/13/slash-dev-slash-summer-talk-security-is-hard/">/dev/summer talk - Security Is Hard</a>
          </li>
        
          <li>
            <a href="/blog/2014/07/13/djugl-talk-the-trojan-unicorn/">DJUGL Talk - The Trojan Unicorn</a>
          </li>
        
          <li>
            <a href="/blog/2014/07/13/back-at-bromium/">Back at Bromium</a>
          </li>
        
          <li>
            <a href="/blog/2013/06/22/rss-feed-moved-to-http-slash-slash-www-dot-fragmentedmemory-dot-com-slash-feed-slash/">RSS Feed Moved To http://www.fragmentedmemory.com/feed/</a>
          </li>
        
          <li>
            <a href="/blog/2013/06/18/new-location-and-new-blog-engine-and-old-content-restored/">New Location &amp; New Blog Engine &amp; Old Content Restored</a>
          </li>
        
      </ul>
    </div>

    <div class="posts">
      <h2>Links</h2>
      <a href='https://alpha.app.net/gjb' class='adn-button' target='_blank' data-type='follow' data-width='277' data-height='27' data-user-id='@gjb' data-show-username='1' rel='me'>Follow me on App.net</a><script>(function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src='//d2zh9g63fcvyrq.cloudfront.net/adn.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'adn-button-js'));</script>
    </div>
  </div>

  <p class="powered">
    Powered by <a href="http://octopress.org">Octopress</a> and <a href="https://github.com/iwinux/compbits">Compbits</a>
  </p>
</div>

  </div> <!-- #wrapper end -->

  

  


  

  

  
  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>


</body>
</html>
