<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Fragmented Memory</title>
    <meta name="description" content="">
    <meta name="author" content="Garry Bodsworth">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
    <script src="http://www.fragmentedmemory.com/theme/html5.js"></script>
    <![endif]-->

    <!-- Le styles -->
    <link href="http://www.fragmentedmemory.com/theme/bootstrap.min.css" rel="stylesheet">
    <link href="http://www.fragmentedmemory.com/theme/bootstrap.min.responsive.css" rel="stylesheet">
    <link href="http://www.fragmentedmemory.com/theme/local.css" rel="stylesheet">
    <link href="http://www.fragmentedmemory.com/theme/pygments.css" rel="stylesheet">

    <!-- So Firefox can bookmark->"abo this site" -->
        <link href="http://www.fragmentedmemory.com/feed/index.xml" rel="alternate" title="Fragmented Memory" type="application/atom+xml">

</head>

<body>

<div class="navbar">
    <div class="navbar-inner">
    <div class="container">

         <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
             <span class="icon-bar"></span>
             <span class="icon-bar"></span>
             <span class="icon-bar"></span>
         </a>

        <a class="brand" href="http://www.fragmentedmemory.com">Fragmented Memory</a>

        <div class="nav-collapse">
        <ul class="nav">
            
            <li><a href="http://www.fragmentedmemory.com/pages/about.html">About</a></li>
            <li><a href="http://www.fragmentedmemory.com/pages/cv.html">CV</a></li>
        </ul>
        </div>
        
    </div>
    </div>
</div>

<div class="container">
    <div class="content">
    <div class="row">

        <div class="span9">
    <div class='article'>
        <div class="content-title">
            <h1>Installing The Latest Intel Drivers &#8211; The Kernel</h1>
Sun 21 June 2009

by <a class="url fn" href="http://www.fragmentedmemory.com/author/garry-bodsworth.html">Garry Bodsworth</a>
 


        </div>
	
        <div><p>So installing the drivers, latest X-server, mesa and so on is only part of the puzzle to use the latest Intel graphics drivers. You also need to update your kernel for more features like better kernel memory management, kernel mode switching, and other basic things. The driver can work (for differing levels of working) for older kernels, but the bugfixes tend to be on the latest version. I have tried this on an Intel 945GM.</p>
<p>So this is how you update your kernel for Jaunty (and other Ubuntus would probably work). A really handy repository of kernels is maintained by Ubuntu called <a href="http://kernel.ubuntu.com/~kernel-ppa/mainline/">Mainline PPA</a> where you can download pretty much any version of the kernel.</p>
<p>So for kernel 2.6.30 you need to download the following file : <a href="http://kernel.ubuntu.com/~kernel-ppa/mainline/v2.6.30/linux-image-2.6.30-020630-generic_2.6.30-020630_i386.deb">linux-image-2.6.30-020630-generic_2.6.30-020630_i386.deb</a><br />
You need to install this by calling:<pre colla="+" lang=”Bash”> sudo dpkg -i linux-image-2.6.30-020630-generic_2.6.30-020630_i386.deb </pre> </p>
<p>As part of the install it should have run update-grub. If not run <strong>sudo update-grub</strong></p>
<p>To get kernel modesetting working as well as fixing a couple of minor issues you need to edit the file <strong>/boot/grub/menu.lst</strong> for some extra parameters. You need to edit the line that looks like:</p>
<pre colla="+" lang="Bash">kernel      /vmlinuz-2.6.30-020630-generic root=/dev/sda7 ro 
</pre>

<p>And add the following between &#8220;generic&#8221; and &#8220;root&#8221;:</p>
<pre colla="+" lang="Bash">nopat enable_mtrr_cleanup i915.modeset=1
</pre>

<p>The first two sort out some hardware bugs on the Intel 945 depending on the hardware platform which can vary. Acer Aspire Ones don&#8217;t necessarily have the same mtrr bugs as MSI Winds and so on. The modeset parameter switches on kernel modesetting which you will hopefully not notice many changes with.</p>
<p>I did find kernel modesetting played a lot better running X without any monitor connected and dealt with a lot of odd mode issues.</p></div>
	
        <hr>

    </div>
        </div>
        
        <div class="span3">

            <div class="well" style="padding: 8px 0; background-color: #FBFBFB;">
            <ul class="nav nav-list">
                <li class="nav-header"> 
                Site
                </li>
            
                <li><a href="http://www.fragmentedmemory.com/archives.html">Archives</a>
                <li><a href="http://www.fragmentedmemory.com/tags.html">Tags</a>



                <li><a href="http://www.fragmentedmemory.com/feed/index.xml" rel="alternate">Atom feed</a></li>

            </ul>
            </div>


            <div class="well" style="padding: 8px 0; background-color: #FBFBFB;">
            <ul class="nav nav-list">
                <li class="nav-header"> 
                Categories
                </li>
                
                <li><a href="http://www.fragmentedmemory.com/category/misc.html">misc</a></li>
                   
            </ul>
            </div>




            <div class="social">
            <div class="well" style="padding: 8px 0; background-color: #FBFBFB;">
            <ul class="nav nav-list">
                <li class="nav-header"> 
                Social
                </li>
           
                <li><a href="http://www.fragmentedmemory.com/feed/">rss</a></li>
                <li><a href="https://github.com/garrybodsworth">github-alt</a></li>
                <li><a href="https://twitter.com/garrybodsworth">twitter</a></li>
                <li><a href="https://uk.linkedin.com/in/garrybodsworth">linkedin</a></li>
                <li><a href="http://stackoverflow.com/cv/garrybodsworth">stack-overflow</a></li>
                <li><a href="http://pinboard.in/u:garrybodsworth">pinboard</a></li>
            </ul>
            </div>
            </div>

        </div>  
    </div>     </div> 
<footer>
<br />
<p><a href="http://www.fragmentedmemory.com">Fragmented Memory</a> &copy; Garry Bodsworth 2014</p>
</footer>

</div> <!-- /container -->
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
<script src="http://www.fragmentedmemory.com/theme/bootstrap-collapse.js"></script>
 
</body>
</html>