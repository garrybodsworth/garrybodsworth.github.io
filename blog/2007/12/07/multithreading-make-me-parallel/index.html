
<!DOCTYPE HTML>
<html lang="en-gb">
<head>
  <meta charset="UTF-8">
  <title>Fragmented Memory</title>

  <meta name="author" content="Garry Bodsworth">
  
  <meta name="description" content="Multithreading - Make Me Parallel! Dec 7th, 2007 Sometimes even being multithreaded isn&#8217;t even enough. Obviously running multiple processes &hellip;">
  
  

  <link rel="canonical" href="http://www.fragmentedmemory.com/blog/2007/12/07/multithreading-make-me-parallel">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/feed/" rel="alternate" title="Fragmented Memory" type="application/atom+xml">
</head>
  
<body class="default">
  <div id="wrapper">
    <div id="header">
  <h1><a href="/">Fragmented Memory</a></h1>
  
    <p>Garry Bodsworth's Blog (formerly Garry's Bit Patterns &amp; Programmer's Log)</p>
  
</div>
<ul id="social-links">
  
    <li><a class="rss" href="/feed/" title="RSS">RSS</a></li>
  
  
  
  
    <li><a class="twitter" href="http://twitter.com/garrybodsworth" title="Twitter">Twitter</a></li>
  
  
    <li><a class="github" href="https://github.com/garrybodsworth" title="GitHub">GitHub</a></li>
  
  
  
    <li><a class="linkedin" href="http://www.linkedin.com/in/garrybodsworth">LinkedIn</a></li>
  
  
  
  
    <li><a class="pinboard" href="https://pinboard.in/u:garrybodsworth" title="Pinboard">Pinboard</a></li>
  
</ul>
<div class="clear"></div>
<ul id="nav">
  
    <li> <a href="/">blog</a> </li>
  

  
    <li><a href="/blog/archives">archives</a></li>
  

  
    <li><a href="/about">about</a></li>
  
</ul>

    <div id="main"> <div class="post-header">
  
    <h1 class="post-title">Multithreading - Make Me Parallel!</h1>
  
  








  


<time datetime="2007-12-07T20:43:00+00:00" pubdate data-updated="true">Dec 7<span>th</span>, 2007</time>
</div>

<div class="post-content"><div class='post'>
Sometimes even being multithreaded isn&#8217;t even enough.  Obviously running multiple processes simultaneously is great and all but it depends how heavyweight the processes are as you could be spending a lot of calculation time in a single process not giving much more than a responsive GUI during calculation (not making the most of the computing power).  What you really want to do is divide those processes into their smallest components and parallelise those.<br /><br />One of the tools freely available to C++ developers to accomplish these types of tasks is <a href="http://threadingbuildingblocks.org">Threading Building Blocks</a> which was open-sourced this year by Intel.  In fact, I am pretty sure I mentioned this before, but I am nearly thirty so my brain ain&#8217;t what it used to be.  There are actually two parts to the library, a thread-safe set of allocators and the multithreading library including algorithms and thread-safe containers.<br /><br />It is designed with the STL in mind (I suppose the developers would hope for an eventual inclusion into the standard library). It seems to be designed at a higher level semantically than a lot of other threading libraries and could help people to try it out much faster.<br /><br />The most obvious place to try out some of the parallelisation is the &#8220;parallel_for&#8221; loop.  It&#8217;s interesting that speed optimisation can be tried out with a &#8220;grain size&#8221; as it is a trade off between the overhead of performing parallel operations and making use of the processor(s).  It all works in a similar fashion to the normal STL algorithms and containers with some additional classes like &#8220;ranges&#8221; for the begin and end of your divided up operation.  In fact it all seems so strangely easy to do, if you have to do calculations and construct new data, stick them in one of the thread-safe containers and you will be laughing.  Admittedly if you do use &#8220;normal loops&#8221; in your code, you need to STL-ise them, but that is a fairly trivial operation to turn them into functors.<br /><br />All in all though it looks quite good, and easy to use if you are parallelising simple loops.  I am sure some programs will find substantial speed-ups and blow up a few CPUs with over-use from that.  I could tell you a story that Intel tech support said we shouldn&#8217;t run a Pentium III CPU at 100% use consistently back in the day&#8230;</div>
<h2>Comments</h2>
<div class='comments'>
<div class='comment'>
<div class='author'>Adi</div>
<div class='content'>
<a rel="external" href="http://orientinspiration.com/2009/09/oes-tsetnoc.html" rel="nofollow">Oes  Tsetnoc</a> one of the ways in which we can learn seo besides <a rel="external" href="http://duniasoer.com/archives/mengembalikan-jati-diri-bangsa.html" rel="nofollow">Mengembalikan Jati Diri Bangsa</a>.  By participating in the <a rel="external" href="http://mncmakina.com/2009/09/oes-tsetnoc-seo-contest/" rel="nofollow">Oes Tsetnoc</a> or <a rel="external" href="http://ulaznice.info/mengembalikan-jati-diri-bangsa.html" rel="nofollow">Mengembalikan Jati Diri Bangsa</a> we can improve our seo skills. To find more information about <a rel="external" href="http://catatanblogger.info/738688-Oes-Tsetnoc.html" rel="nofollow">Oest Tsetnoc</a> please visit my <a rel="external" href="http://kusukaseo.info/981750-Oes-Tsetnoc-Support.html" rel="nofollow">Oes Tsetnoc</a> pages. And to find more information about <a rel="external" href="http://duniasoer.com" rel="nofollow">Mengembalikan Jati Diri Bangsa</a> please visit my <a rel="external" href="http://catatanblogger.info/464655-Mengembalikan-Jati-Diri-Bangsa.html" rel="nofollow">Mengembalikan Jati Diri Bangsa</a> pages. Thank you So much.<br> <a rel="external" href="http://orientinspiration.com" rel="nofollow">Oes  Tsetnoc</a> | <a rel="external" href="http://duniasoer.com/archives/semangat-mengembalikan-jati-diri-bangsa.html" rel="nofollow">Semangat Mengembalikan Jati Diri Bangsa</a></div>
</div>
<div class='comment'>
<div class='author'>wow gold1000</div>
<div class='content'>
Few have <A HREF="http://www.wowgoldvip.com/news_list.asp" REL="nofollow">wow gold</A> even heard <A HREF="http://www.wowgold1000.com" REL="nofollow">wow gold</A> of the god <A HREF="http://www.wowgoldvip.com" REL="nofollow">buy wow gold</A> called Bandos. <A HREF="http://www.wowgold1000.com" REL="nofollow">buy wow gold</A> For many <A HREF="http://www.wowgoldvip.com" REL="nofollow">cheap wow gold</A> centuries he <A HREF="http://www.wowgold1000.com" REL="nofollow">cheap wow gold</A> has been thought <A HREF="http://www.wowgoldvip.com/wow-power-leveling.asp" REL="nofollow">wow power leveling</A> to be an <A HREF="http://www.wowgold800.com" REL="nofollow">wow power leveling</A> ancestor of the <A HREF="http://www.wowgoldvip.com/powerleveling.asp" REL="nofollow">power leveling</A> ogres, perhaps <A HREF="http://www.wowgold800.com" REL="nofollow">power leveling</A> even the beast <A HREF="http://www.wowgold800.com/wow-gold.html" REL="nofollow">wow gold</A> that claimed <A HREF="http://www.wowgold800.com/wow-gold.html" REL="nofollow">buy wow gold</A> the lands of <A HREF="http://www.wowgold800.com/wow-gold.html" REL="nofollow">cheap wow gold</A> the Feldip Hills <A HREF="http://www.wowgold800.com/wow-gold.html" REL="nofollow">world of warcraft gold</A> and Jiggig.</div>
</div>
</div>
</div>


<div class="post-single">
  <div class="post-meta">
    

<span class="categories">
  Categories:
  
    <a class='category' href='/blog/categories/c-plus-plus/'>C++</a>, <a class='category' href='/blog/categories/development/'>Development</a>, <a class='category' href='/blog/categories/multithreading/'>Multithreading</a>
  
</span>


    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://www.fragmentedmemory.com/blog/2007/12/07/multithreading-make-me-parallel/" data-via="garrybodsworth" data-counturl="http://www.fragmentedmemory.com/blog/2007/12/07/multithreading-make-me-parallel/" >Tweet</a>
  
  
  
</div>

    
  </div>
  <div class="clear"></div>

  
</div>
 </div>
    <div id="footer">
  <div class="panels">
    <div class="license">
      <h2>License</h2>
      <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/"><img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-nc-sa/3.0/88x31.png" /></a><br />This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/">Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License</a>.
    </div>

    <div class="posts">
      <h2>Recent Posts</h2>
      <ul>
        
          <li>
            <a href="/blog/2013/06/22/rss-feed-moved-to-http-slash-slash-www-dot-fragmentedmemory-dot-com-slash-feed-slash/">RSS Feed Moved To http://www.fragmentedmemory.com/feed/</a>
          </li>
        
          <li>
            <a href="/blog/2013/06/18/new-location-and-new-blog-engine-and-old-content-restored/">New Location &amp; New Blog Engine &amp; Old Content Restored</a>
          </li>
        
          <li>
            <a href="/blog/2013/06/13/joining-microsoft/">Joining Microsoft</a>
          </li>
        
          <li>
            <a href="/blog/2013/06/13/leaving-bromium/">Leaving Bromium</a>
          </li>
        
          <li>
            <a href="/blog/2013/03/05/philip-su-engineering-process-and/">Philip Su - Engineering Process And Philosophy At Facebook</a>
          </li>
        
      </ul>
    </div>

    <div class="posts">
      <h2>Links</h2>
      <a href='https://alpha.app.net/gjb' class='adn-button' target='_blank' data-type='follow' data-width='277' data-height='27' data-user-id='@gjb' data-show-username='1' rel='me'>Follow me on App.net</a><script>(function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src='//d2zh9g63fcvyrq.cloudfront.net/adn.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'adn-button-js'));</script>
    </div>
  </div>

  <p class="powered">
    Powered by <a href="http://octopress.org">Octopress</a> and <a href="https://github.com/iwinux/compbits">Compbits</a>
  </p>
</div>

  </div> <!-- #wrapper end -->

  

  


  

  

  
  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>


</body>
</html>
